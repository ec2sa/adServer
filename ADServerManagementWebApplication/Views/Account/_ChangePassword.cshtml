@model ADServerManagementWebApplication.Models.ManageUserViewModel

@using (Html.BeginForm("Pass", "Account", FormMethod.Post, new { role = "form" }))
{
	<div class="panel-body">
		@Html.AntiForgeryToken()
		<h4>Zmiana danych użytkownika @User.Identity.Name</h4>
		<hr />
		@Html.ValidationSummary()
		<fieldset>
			<legend>Dane do logowania</legend>
			@Html.HiddenFor(m=>m.Id)
			<div class="form-group">
				@Html.LabelFor(m => m.OldPassword)
				@Html.PasswordFor(m => m.OldPassword, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.NewPassword)
				@Html.PasswordFor(m => m.NewPassword, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.ConfirmPassword)
				@Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
				@Html.ValidationMessageFor(m => m.ConfirmPassword)
			</div>
		</fieldset>
		<fieldset>
			<legend>Dane kontaktowe</legend>
			<div class="form-group">
				@Html.LabelFor(model => model.FirstName, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.FirstName, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.FirstName)
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.LastName, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.LastName, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.LastName)
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Email, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.Email, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.Email)
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.CompanyName, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.CompanyName, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.CompanyName)
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.CompanyAddress, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.CompanyAddress, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.CompanyAddress)
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.AdditionalInfo, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.AdditionalInfo, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.AdditionalInfo)
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(model => model.Url, new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.TextBoxFor(model => model.Url, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.Url)
				</div>
			</div>
		</fieldset>

	</div>
	<div class="panel-footer col-md-12">
		<input type="submit" value="Zmień" class="btn btn-success" />
		<a href="@Url.Action("Index", "Campaign")" class="btn btn-danger">Wróć</a>
	</div>
}
<script>
	$(document).ready(function () {
		$('#NewPassword').change(function (event) {
			if (event.currentTarget.value == "") {
				$('#ConfirmPassword').removeAttr('required');
			} else {

				$('#ConfirmPassword').attr('required');
			}
		});
	});
</script>

